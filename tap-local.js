!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=37)}([function(t,e){var n=0;function r(t){return void 0!==t&&n>=t}e.LOUD=3,e.DEBUG=2,e.LOG=1,e.USER=0,e.setPriorityLevel=function(t){n=t},e.log=function(t,e,n){r(n)&&(console.log("[Taplytics]",t),e&&console.dir(e))},e.time=function(t,n,i,o){if(r(o)){if(i)t=t+", time: "+((new Date).getTime()-i.getTime())+"ms";e.log(t,n,o)}},e.error=function(t,e,n){r(n)&&(console.error("[Taplytics]",t),e&&console.dir(e))}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(4),o=n(75),s=n(0),a=n(5),u=n(27),c=n(78),l=n(8),f=n(79),p=n(80),h=n(10),d=n(26),m="_tl_csid",v="_tl_duuid",y="_tl_suuid",g="_tl_uid",_="_tl_sid",b="_tl_auid",w="_tl_config",x=function(t,e){return t&&e?"tl_sopts_".concat(t,"_").concat(e):null};e.config=null,e.hasLoadedData=!1,e.sessionExpirationMin=30,e.start=function(t){return e.updateCookieSession().setDeviceUUID(t)},e.get=function(t,n){if(t){e.tick();var o=e.getCookieSessionID(),a=x(o,t);if(a){if(!(n&&JSON&&JSON.parse))return i.get(a);var u=i.get(a);if(u&&"object"===r(u))return u;try{return JSON.parse(u)}catch(e){return s.error("Session.get("+t+") failed to parse JSON.",e,s.DEBUG),u}}}},e.tick=function(){return e.updateCookieSession(),e},e.set=function(t,n,r){if(!t||void 0===n||0===(""+n).length)return!1;e.tick();var i=e.getCookieSessionID(),o=x(i,t),s=E(),a=n;return!!o&&(r&&JSON&&JSON.stringify&&(a=JSON.stringify(n)),O(o,a,{expires:s}),!0)},e.unset=function(t){if(!t)return!1;e.tick();var n=e.getCookieSessionID(),r=x(n,t);i.expire(r)},e.updateCookieSession=function(){var t=e.getCookieSessionID();t||(t=o.v4(),e.deleteSessionID());var n=E();return O(m,t,{expires:n}),s.log("Set cookieSessionID to: "+t,{expires:n},s.LOUD),e},e.setDeviceUUID=function(t){return(t=t||e.getDeviceUUID())||(t=o.v4()),O(v,t,{expires:new Date(2147483647e3)}),s.log("Set deviceUUID to: "+t,null,s.DEBUG),e},e.setSessionID=function(t){return O(_,t,{expires:E()}),s.log("Set sessionID to: "+t,null,s.DEBUG),e},e.deleteSessionID=function(){return i.expire(_),e},e.setAppUserID=function(t){return O(b,t,{expires:E()}),s.log("Set appUserID to: "+t,null,s.DEBUG),e},e.deleteAppUserID=function(){return i.expire(b),e},e.deleteSessionUUID=function(){i.expire(y)},e.setUserID=function(t){if(u.userBucketing&&!t){var n="TL_Anon_"+d();s.log("setting anon id",n),i.set(g,n)}else t&&i.set(g,t);return e},e.resetUserID=function(){return u.userBucketing?e.setUserID(null):i.expire(g),e},e.setCachedConfig=function(t){return function(t,e,n,r){if(h())return;i.setJSON(t,e,n,r)}(w,{expVarsNamesHistory:t?t.expVarsNamesHistory:{},expVarsNames:t?t.expVarsNames:{},expVarsIds:t?t.expVarsIds:{},dynamicVars:t?t.dynamicVars:{}},null,!0),e},e.getDeviceUUID=function(){var t=i.get(y);if(t)return t;var n=i.get(v);return t===n&&e.deleteSessionUUID(),n},e.getCookieSessionID=function(){return i.get(m)},e.getAppUserID=function(){return i.get(b)},e.getOrCreateUserID=function(){var t=e.getUserID();return t||(e.setUserID(null),e.getUserID())},e.getUserID=function(){return i.get(g)},e.getSessionID=function(){return i.get(_)},e.getCachedConfig=function(){return i.getJSON(w,!0)},e.getSessionAttributes=function(t){t=t||{};var e=l.toObject(),n=c();return t.sid=this.getSessionID(),t.ad=this.getDeviceUUID(),t.adt="browser",t.ct="browser",t.lv=a().production?"0":"1",t.sdk=a().sdkVersion,t.rfr=n.referrer,t.ub=u.userBucketing,t.exm=n.search.utm_medium,t.exs=n.search.utm_source,t.exc=n.search.utm_campaign,t.ext=n.search.utm_term,t.exct=n.search.utm_content,t.prms={search:n.search,location:e},navigator&&navigator.userAgent&&(t.prms.userAgent=navigator.userAgent),t},e.saveSessionConfig=function(t,n){n&&!t&&(s.log("Using cached config because of server error",null,s.DEBUG),t=e.getCachedConfig()),e.config=t,S=!0,t&&t.app_user_id&&t.session_id&&(e.hasLoadedData=!0,e.setAppUserID(t.app_user_id),e.setSessionID(t.session_id),e.tick()),t&&e.setCachedConfig(t),p.applyVisualEditsFromConfig(t),D.completePromises(!!t),(n||t&&t.app_user_id&&t.session_id)&&k.completePromises(!!t)};var k=new f({name:"sessionConfigPromises"});e.sessionConfigPromise=function(t){if(t)return e.hasLoadedData&&e.config?t(!0):void k.push(t)};var S=!1,D=new f({name:"configPromises"});function O(t,e,n){h()||(n?i.set(t,e,n):i.set(t,e))}function E(){return function(t,e,n){var r=new Date(t);switch(e.toLowerCase()){case"year":r.setFullYear(r.getFullYear()+n);break;case"quarter":r.setMonth(r.getMonth()+3*n);break;case"month":r.setMonth(r.getMonth()+n);break;case"week":r.setDate(r.getDate()+7*n);break;case"day":r.setDate(r.getDate()+n);break;case"hour":r.setTime(r.getTime()+36e5*n);break;case"minute":r.setTime(r.getTime()+6e4*n);break;case"second":r.setTime(r.getTime()+1e3*n);break;default:r=void 0}return r}(new Date,"minute",e.sessionExpirationMin)}e.configPromise=function(t){if(t)return S&&e.config?t(!0):void D.push(t)},e.resetSession=function(){e.deleteSessionID(),e.deleteAppUserID(),e.resetUserID(),e.config=null,e.hasLoadedData=!1}},function(t,e,n){"use strict";n.r(e),n.d(e,"isNumber",(function(){return _})),n.d(e,"isString",(function(){return b})),n.d(e,"debounce",(function(){return w})),n.d(e,"isObjectLike",(function(){return x})),n.d(e,"values",(function(){return k})),n.d(e,"includes",(function(){return S})),n.d(e,"isEqual",(function(){return D})),n.d(e,"forEach",(function(){return O}));var r=n(30),i=n.n(r),o=n(31),s=n.n(o),a=n(32),u=n.n(a),c=n(33),l=n.n(c),f=n(6),p=n.n(f),h=n(34),d=n.n(h),m=n(35),v=n.n(m),y=n(36),g=n.n(y),_=v.a,b=d.a,w=g.a,x=p.a,k=l.a,S=u.a,D=s.a,O=i.a},function(t,e,n){var r=n(38),i=n(5),o=n(0),s=n(17),a=n(18),u=n(10),c=new s,l=!1;e.publicToken=null,e.setPublicToken=function(t){this.publicToken=t},e.get=p((function(t,n,i){if(u())return;var s=m(n),a=d(t);o.log("GET request: ".concat(a),s,o.LOUD),r.get(a).query(s.query).timeout(e.timeout).end(f(a,i))})),e.getJSON=p((function(t,n){if(u())return;var s=function(t){return i().cdnAPI+(t||"")}(t);o.log("GET JSON file request: ".concat(s),null,o.LOUD),r.get(s).timeout(e.timeout).end(f(s,n))})),e.post=p((function(t,e,n,i){if(u())return;var s=m(e,n),a=d(t);o.log("POST request: ".concat(a),s,o.LOUD),r.post(a).query(s.query).set("Content-Type","application/json").send(s.payload).end(f(a,i))})),e.del=p((function(t,n,i,s){if(u())return;var a=m(n,i),c=d(t);o.log("DELETE request: ".concat(c),a,o.LOUD),r.del(c).query(a.query).set("Content-Type","application/json").timeout(e.timeout).send(a.payload).end(f(c,s))}));function f(t,e){return function(n,r){n&&o.error("Error: ".concat(t),n,o.DEBUG),e&&"function"==typeof e&&e(n,r),h()}}function p(t){return function(){c.enqueue({requestFunction:t,args:arguments}),l||h()}}function h(){if(!c.isEmpty()){l=!0;var t=c.dequeue();return o.log("Processing request",t,o.DEBUG),t&&t.requestFunction&&t.requestFunction.apply(e,t.args)}l=!1}function d(t,e){var n=i(),r=n.eventsAPI,o=n.baseAPI;return("events"===t&&r?r:o)+(t||"")+function(t){return t?"?".concat(a.stringify(t)):""}(e)}function m(t,n){var r={},i={};return t&&"function"==typeof t?r=t():t&&(r=t),n&&"function"==typeof n?i=n():n&&(i=n),r.r_v="0",e.publicToken&&(r.public_token=e.publicToken),{query:r,payload:i}}e.timeout=4e3,e.setTimeout=function(t){var n=1e3*t;n>3e4?(o.error("Timeout is larger then max timeout! timeout: ".concat(t,"s, max timeout: ").concat(30,"s. Using max timeout value."),null,o.USER),e.timeout=3e4):n<1e3?(o.error("Timeout is smaller then the min timeout! timeout: ".concat(t,"s, min timeout: ").concat(1,"s. Using min timeout value."),null,o.USER),e.timeout=1e3):(o.log("Set timeout: ".concat(t,"s"),null,o.LOUD),e.timeout=n)}},function(t,e,n){var r=n(0),i=n(2),o=n(5),s=n(74),a=n(12).CookieJar,u=n(12).Cookie,c=n(12).CookieAccessInfo,l=n(13).OPT_OUT_KEY;s.supported()||(r.log("Local Storage not supported",null,r.DEBUG),s=null);var f,p={cookieSessionID:"_tl_csid",deviceUUID:"_tl_duuid",sessionUUID:"_tl_suuid",sessionID:"_tl_sid",appUserID:"_tl_auid",userID:"_tl_uid"};function h(){return f||(f=new a,function(){if(f&&document.cookie&&document.cookie.length)for(var t=document.cookie.split(";"),e=0;e<t.length;e++)try{for(var n=t[e];" "===n.charAt(0);)n=n.substring(1);f.setCookies(n)}catch(t){r.error("Exception setting cookie",t,r.DEBUG)}}()),f}e.getJSON=function(t,n){var o=e.get(t,n);if(!o||!i.isString(o))return o;try{return JSON.parse(o)}catch(t){return r.error("JSON parse cookie value",t,r.DEBUG),null}},e.getLS=function(t){if(!s)return null;var e=s.get(t);return r.log("Got local storage key: "+t+" with value: "+e,null,r.LOUD),e},e.get=function(t,n){if(e.getCookieSupport()&&!n){var r=h(),o=new c(e.getCookieDomain()),a=r.getCookie(t,o);return a&&!i.includes(i.values(p),t)&&(a.value=function(t){try{return decodeURIComponent(atob(t))}catch(e){return t}}(a.value)),a?a.value:void 0}return s?e.getLS(t):n?e.get(t):void 0},e.setJSON=function(t,n,o,s){var a;try{a=i.isString(n)?n:JSON.stringify(n)}catch(t){r.error("JSON stringify cookie value",t,r.DEBUG)}e.set(t,a,o,s)},e.set=function(t,n,o,a){if(t)if(e.getCookieSupport()&&!a){n=n||"",o=o||{};var c=h(),l=function(t,n,r){i.includes(i.values(p),t)||(o=n,n=btoa(encodeURIComponent(o)));var o;var s=new u(t+"="+n);r&&(s.expiration_date=r);return s.domain=e.getCookieDomain(),s}(t,n,o.expires).toString();document.cookie=l,c.setCookie(l),r.log("Setting cookies to:",l,r.LOUD)}else s?e.setLS(t,n,o):a&&e.set(t,n,o)},e.setLS=function(t,e,n){if(s){var i=n&&n.expires?30:null;s.set(t,e,i),r.log("Setting local storage key: ".concat(t," to value: ").concat(e),null,r.LOUD)}},e.expire=function(t,n){e.getCookieSupport()&&!n?e.set(t,"-",{expires:new Date}):s?(r.log("Deleting local storage key: "+t,null,r.LOUD),s.remove(t)):n&&e.expire(t)},e.getCookieDomain=function(){var t=o().cookieDomain;if(t)return t;var e=window.location.hostname,n=e?e.split(".").reverse():null;return n&&n.length>=3&&n[1].match(/^(com|edu|gov|net|mil|org|nom|co|ca|name|info|biz)$/i)?".".concat(n[2],".").concat(n[1],".").concat(n[0]):n&&n.length>1?".".concat(n[1],".").concat(n[0]):null},e.hasUserOptedOutTracking=function(){var t=e.getLS(l);return null===t?null!=s&&(s.set(l,!1,null),r.log("Setting local storage key: ".concat(l," to value: ",!1),null,r.LOUD),!1):t},e.getCookies=function(){var t=h(),n=new c(e.getCookieDomain());return t.getCookies(n)},e.removeAllCookies=function(){var t=h(),n=new c(e.getCookieDomain());t.getCookies(n).forEach((function(t){r.log("expiring tl session cookie ".concat(t.name),t,r.DEBUG),e.expire(t.name,!1)})),Object.keys(p).forEach((function(t){e.expire(p[t],!1)}))};var d=void 0;e.getCookieSupport=function(){if(void 0!==d)return d;var t=!0;do{var e="gCStest="+Math.floor(1e8*Math.random());if(document.cookie=t?e+"; expires="+new Date("Tue, 01-Jan-2030 00:00:00").toUTCString():e,-1!==document.cookie.indexOf(e))return document.cookie=e+"; expires="+new Date("Sat, 01-Jan-2000 00:00:00 GMT").toUTCString(),d=t,t}while(!(t=!t));return d=null,null}},function(t,e,n){t.exports=function(){var t=n(14),e={cdnAPI:"https://cdn-config.taplytics.com/js/"};if("production"===t.env?(e.baseAPI="https://api.taplytics.com/public_api/v1/",e.eventsAPI="https://ping.taplytics.com/public_api/v1/"):"dev"===t.env||"development"===t.env?e.baseAPI="https://dev.taplytics.com/public_api/v1/":"stag"===t.env||"staging"===t.env?e.baseAPI="https://staging.taplytics.com/public_api/v1/":"local"===t.env&&(e.baseAPI="http://localhost:3002/public_api/v1/"),t&&t.api&&t.api.config){var r=t.api.config,i=r.apiAlias,o=r.pingAlias;i&&(e.baseAPI=i+"/public_api/v1/"),o&&(e.eventsAPI=o+"/public_api/v1/")}return e.eventsFlushQueueTimeout=4e3,e.functionFlushQueueTimeout=500,e.sdkVersion="2.12.0",e.cookieDomain=t&&t.api&&t.api.config&&t.api.config.cookieDomain?t.api.config.cookieDomain:null,e.production="production"===t.env,e}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(51);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e){var n={};function r(t){return n[t]?n[t]:"title"===t?document.title:document.location?document.location[t]:null}e.toObject=function(){return{href:r("href"),hash:r("hash"),search:r("search"),host:r("host"),protocol:r("protocol"),pathname:r("pathname"),title:r("title")}},e.attr=function(t){return r(t)},e.listen=function(t){}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Array.isArray,o=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),s=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n};t.exports={arrayToObject:s,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var o=e[r],s=o.obj[o.prop],a=Object.keys(s),u=0;u<a.length;++u){var c=a[u],l=s[c];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(e.push({obj:s,prop:c}),n.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(i(n)){for(var r=[],o=0;o<n.length;++o)void 0!==n[o]&&r.push(n[o]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n){if(0===t.length)return t;var r=t;if("symbol"==typeof t?r=Symbol.prototype.toString.call(t):"string"!=typeof t&&(r=String(t)),"iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var i="",s=0;s<r.length;++s){var a=r.charCodeAt(s);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?i+=r.charAt(s):a<128?i+=o[a]:a<2048?i+=o[192|a>>6]+o[128|63&a]:a<55296||a>=57344?i+=o[224|a>>12]+o[128|a>>6&63]+o[128|63&a]:(s+=1,a=65536+((1023&a)<<10|1023&r.charCodeAt(s)),i+=o[240|a>>18]+o[128|a>>12&63]+o[128|a>>6&63]+o[128|63&a])}return i},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(e,n,o){if(!n)return e;if("object"!=typeof n){if(i(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(o&&(o.plainObjects||o.allowPrototypes)||!r.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var a=e;return i(e)&&!i(n)&&(a=s(e,o)),i(e)&&i(n)?(n.forEach((function(n,i){if(r.call(e,i)){var s=e[i];s&&"object"==typeof s&&n&&"object"==typeof n?e[i]=t(s,n,o):e.push(n)}else e[i]=n})),e):Object.keys(n).reduce((function(e,i){var s=n[i];return r.call(e,i)?e[i]=t(e[i],s,o):e[i]=s,e}),a)}}},function(t,e,n){var r=n(4);t.exports=function(){return r.hasUserOptedOutTracking()}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){!function(){"use strict";function t(e,n,r,i){return this instanceof t?(this.domain=e||void 0,this.path=n||"/",this.secure=!!r,this.script=!!i,this):new t(e,n,r,i)}function n(t,e,r){return t instanceof n?t:this instanceof n?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(r||"/"),this.explicit_path=!1,this.domain=e||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,t&&this.parse(t,e,r),this):new n(t,e,r)}t.All=Object.freeze(Object.create(null)),e.CookieAccessInfo=t,e.Cookie=n,n.prototype.toString=function(){var t=[this.name+"="+this.value];return this.expiration_date!==1/0&&t.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&t.push("domain="+this.domain),this.path&&t.push("path="+this.path),this.secure&&t.push("secure"),this.noscript&&t.push("httponly"),t.join("; ")},n.prototype.toValueString=function(){return this.name+"="+this.value};var r=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;function i(){var t,e;return this instanceof i?(t=Object.create(null),this.setCookie=function(r,i,o){var s,a;if(s=(r=new n(r,i,o)).expiration_date<=Date.now(),void 0!==t[r.name]){for(e=t[r.name],a=0;a<e.length;a+=1)if(e[a].collidesWith(r))return s?(e.splice(a,1),0===e.length&&delete t[r.name],!1):(e[a]=r,r);return!s&&(e.push(r),r)}return!s&&(t[r.name]=[r],t[r.name])},this.getCookie=function(n,r){var i,o;if(e=t[n])for(o=0;o<e.length;o+=1)if((i=e[o]).expiration_date<=Date.now())0===e.length&&delete t[i.name];else if(i.matches(r))return i},this.getCookies=function(e){var n,r,i=[];for(n in t)(r=this.getCookie(n,e))&&i.push(r);return i.toString=function(){return i.join(":")},i.toValueString=function(){return i.map((function(t){return t.toValueString()})).join(";")},i},this):new i}n.prototype.parse=function(t,e,r){if(this instanceof n){var i,o=t.split(";").filter((function(t){return!!t})),s=o[0].match(/([^=]+)=([\s\S]*)/);if(!s)return void console.warn("Invalid cookie header encountered. Header: '"+t+"'");var a=s[1],u=s[2];if("string"!=typeof a||0===a.length||"string"!=typeof u)return void console.warn("Unable to extract values from cookie header. Cookie: '"+t+"'");for(this.name=a,this.value=u,i=1;i<o.length;i+=1)switch(a=(s=o[i].match(/([^=]+)(?:=([\s\S]*))?/))[1].trim().toLowerCase(),u=s[2],a){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=u?Number(Date.parse(u)):1/0;break;case"path":this.path=u?u.trim():"",this.explicit_path=!0;break;case"domain":this.domain=u?u.trim():"",this.explicit_domain=!!this.domain;break;case"secure":this.secure=!0}return this.explicit_path||(this.path=r||"/"),this.explicit_domain||(this.domain=e),this}return(new n).parse(t,e,r)},n.prototype.matches=function(e){return e===t.All||!(this.noscript&&e.script||this.secure&&!e.secure||!this.collidesWith(e))},n.prototype.collidesWith=function(t){if(this.path&&!t.path||this.domain&&!t.domain)return!1;if(this.path&&0!==t.path.indexOf(this.path))return!1;if(this.explicit_path&&0!==t.path.indexOf(this.path))return!1;var e=t.domain&&t.domain.replace(/^[\.]/,""),n=this.domain&&this.domain.replace(/^[\.]/,"");if(n===e)return!0;if(n){if(!this.explicit_domain)return!1;var r=e.indexOf(n);return-1!==r&&r===e.length-n.length}return!0},e.CookieJar=i,i.prototype.setCookies=function(t,e,i){var o,s,a=[];for(t=(t=Array.isArray(t)?t:t.split(r)).map((function(t){return new n(t,e,i)})),o=0;o<t.length;o+=1)s=t[o],this.setCookie(s,e,i)&&a.push(s);return a}}()},function(t,e){e.OPT_OUT_KEY="_tl_opt_out_key"},function(t,e,n){t.exports={api:n(15),init:n(83),isReady:n(85),identify:n(86),track:n(87),page:n(88),reset:n(89),propertiesLoaded:n(90),runningExperiments:n(91),variable:n(92),codeBlock:n(94),featureFlagEnabled:n(95),runningFeatureFlags:n(96),hasUserOptedOutTracking:n(10),optOutTracking:n(97),optInTracking:n(98),startNewSession:n(99)}},function(t,e,n){e.request=n(3),e.users=n(23),e.events=n(28),e.config=n(27),e.init=function(t){return!!(t&&t._in&&t._in.token)&&!!this.request.setPublicToken(t._in.token)}},function(t,e,n){"use strict";t.exports=function(t){return null!==t&&"object"==typeof t}},function(t,e){t.exports=function(){var t=[];this.length=function(){return t.length},this.isEmpty=function(){return 0===t.length},this.enqueue=function(e){t.push(e)},this.enqueueAll=function(t){if(!t||t&&"array"!=typeof t)return 0;var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var s=i.value;this.enqueue(s)}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return t.length},this.dequeue=function(){if(0!==t.length)return t.shift()},this.flush=function(){var e=t.slice();return t=[],e},this.peek=function(){return t.length>0?t[0]:void 0}}},function(t,e,n){"use strict";var r=n(44),i=n(45),o=n(19);t.exports={formats:o,parse:i,stringify:r}},function(t,e,n){"use strict";var r=String.prototype.replace,i=/%20/g,o=n(9),s={RFC1738:"RFC1738",RFC3986:"RFC3986"};t.exports=o.assign({default:s.RFC3986,formatters:{RFC1738:function(t){return r.call(t,i,"+")},RFC3986:function(t){return String(t)}}},s)},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(3),i=n(0),o=n(1);e.users_path="users",e.del=function(t){o.sessionConfigPromise((function(){var n=o.getAppUserID();if(n){var s={};s.sid=o.getSessionID(),s.ad=o.getDeviceUUID();var a={session:s};i.log("users_del",a,i.DEBUG),r.del(e.users_path+"/"+n,{},a,(function(e,n){return e?i.error("Couldn't properly rest user.",n,i.DEBUG):i.log("Successfully reset the user.",n,i.DEBUG),t&&t(e,n)}))}}))},e.post=function(t,n,s){o.sessionConfigPromise((function(){var a=t,u=o.getSessionAttributes();a||(a={}),a.auid=o.getAppUserID();var c=new Date,l={session:u,app_user:a};i.log("users_post",JSON.stringify(l),i.DEBUG),r.post(e.users_path,{},l,(function(t,e){if(t)i.error(n,t,i.USER);else{var r=e.body;r?(i.time("Users.post: successfully created/updated user.",e,c,i.DEBUG),o.setAppUserID(r.app_user_id),o.setSessionID(r.session_id),o.tick()):i.error(n,null,i.USER)}return s&&s(t,e)}))}))}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,i=n;return[i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]]].join("")}},function(t,e,n){var r=n(24),i=n(25);t.exports=function(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[o+a]=s[a];return e||i(s)}},function(t,e,n){var r=n(3),i=n(0),o=n(1),s=n(28),a=n(2);function u(t){if(!t||!t.winning_variation)return null;if("baseline"===t.winning_variation)return"b";var e=!0,n=!1,r=void 0;try{for(var i,o=t.variations[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var s=i.value;if(s&&t.winning_variation===s._id)return s}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return null}function c(t){if(0===t.variations.length)return"baseline";var e=Math.random(),n=a.isNumber(t.baseline.distributionPercent)?t.baseline.distributionPercent:0;if(n&&e<n)return i.log("Show Baseline For Experiment: "+t._id,null,i.DEBUG),"baseline";var r=n,o=!0,s=!1,u=void 0;try{for(var c,l=t.variations[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f=c.value;if(f.distributionPercent&&e<(r+=f.distributionPercent))return i.log("Show Variation: ".concat(f._id,", for experiment: ").concat(t._id),null,i.DEBUG),f}}catch(t){s=!0,u=t}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}return i.error("Didn't find variation in experiment",null,i.DEBUG),"baseline"}e.fastMode=!1,e.startOptions=null,e.cookieDomain=null,e.userBucketing=!1,e.apiAlias=null,e.pingAlias=null,e.get=function(t){var n=t.skipFastMode,a=t.dynamicConfig,u=t.user_attributes,c=u&&u.user_id;if(c?o.setUserID(c):c=o.getOrCreateUserID(),a)return e.handleDynamicConfig(a);if(!n&&e.fastMode&&!o.test_experiments)return e.getFastModeConfig();var l=new Date,f=e.buildSessionParams();try{f.aua=u?JSON.stringify(u):void 0}catch(t){i.error("config_get: stringify user_attributes JSON",null,i.DEBUG)}e.userBucketing&&(f.uid=c),i.log("config_get",f,i.DEBUG),r.get("config",f,(function(t,e){if(t)i.error("Failed to get config",t,i.DEBUG),o.saveSessionConfig(null,!0);else{var n=e.body;o.saveSessionConfig(n),n?(s.clientConfig(l),i.time("config.get: successfully got session config data",e,l,i.DEBUG)):i.error("No config data in response",null,i.DEBUG)}}))},e.handleDynamicConfig=function(t){t&&(i.log("handle dynamic config",t,i.DEBUG),o.saveSessionConfig(t),e.postFastModeConfig())},e.buildSessionParams=function(){var t=o.getSessionAttributes();return t.auid=o.getAppUserID(),t.prms&&(t.prms=JSON.stringify(t.prms)),o.test_experiments&&(t.uev=JSON.stringify(o.test_experiments)),t},e.postFastModeConfig=function(){var t=new Date,n=e.buildSessionParams(),a=o.config;if(!a)return i.error("Missing config to POST",null,i.DEBUG);e.userBucketing&&(n.uid=o.getOrCreateUserID()),i.log("config_post",n,i.DEBUG),r.post("config",n,{expVarsIds:a.expVarsIds},(function(e,n){if(e)i.error("Failed to post config",e,i.DEBUG),o.saveSessionConfig(a,!0);else{var r=n.body;r?(a.app_user_id=r.app_user_id,a.session_id=r.session_id,o.saveSessionConfig(a),s.clientConfig(t),i.time("config.post: successfully posted session config data",n,t,i.DEBUG)):(i.error("No config data in post response",null,i.DEBUG),o.saveSessionConfig(a,!0))}}))},e.getFastModeConfig=function(){var t=new Date;function n(){i.log("Skipping fast mode, get server config",null,i.DEBUG),e.get({skipFastMode:!0})}i.log("get fastMode config",null,i.DEBUG),r.getJSON(r.publicToken+".json",(function(r,a){if(!r&&a&&a.body){var u=e.buildConfig(a.body);u?(o.saveSessionConfig(u),i.time("config.get: successfully got fast mode config data",a,t,i.DEBUG),s.fastModeConfig(t),e.postFastModeConfig()):(i.error("No config data in fast mode response",null,i.DEBUG),n())}else i.error("Failed to get config",r,i.DEBUG),n()}))},e.buildConfig=function(t){var e=o.getCachedConfig(),n=e&&e.expVarsNamesHistory&&e.expVarsNames||{},r={},s=e&&e.expVarsIds||{},a={},l={};function f(t){if(t&&t.length){var e=!0,n=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var a=o.value;a.isActive&&(l[a.name]?i.log("Warning dynamic variable is used in two experiments, name: "+a.name,null,i.LOG):l[a.name]=a)}}catch(t){n=!0,r=t}finally{try{e||null==s.return||s.return()}finally{if(n)throw r}}}}function p(t,e){"b"===e||"baseline"===e?(a[t.id]="b",n[t.name]="baseline",r[t.name]="baseline",f(t.baseline.dynamicVariables)):e&&(n[t.name]=e.name,r[t.name]=e.name,a[t.id]=e._id,f(e.dynamicVariables))}function h(t,e){if(!e)return null;if("baseline"===e||"b"===e)return"b";var n=!0,r=!1,i=void 0;try{for(var o,s=t.variations[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;if(a&&(a._id===e||a.name===e))return a}}catch(t){r=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}if(t.experiments){var d=!0,m=!1,v=void 0;try{for(var y,g=t.experiments[Symbol.iterator]();!(d=(y=g.next()).done);d=!0){var _=y.value,b=u(_);if(b)p(_,b);else{if(n[_.name]||s[_.id]){var w=h(_,s[_.id]||n[_.name]);if(w){p(_,w);continue}}p(_,c(_))}}}catch(t){m=!0,v=t}finally{try{d||null==g.return||g.return()}finally{if(m)throw v}}}if(t.variables){var x=!0,k=!1,S=void 0;try{for(var D,O=t.variables[Symbol.iterator]();!(x=(D=O.next()).done);x=!0){var E=D.value;l&&!l[E.name]&&(l[E.name]=E)}}catch(t){k=!0,S=t}finally{try{x||null==O.return||O.return()}finally{if(k)throw S}}}return{expVarsNamesHistory:n,expVarsNames:r,cachedExpIds:s,expVarsIds:a,dynamicVars:l}},e.findWinningVariation=u,e.chooseVariationFromExperiment=c},function(t,e,n){var r=this,i=n(3),o=n(23),s=n(5),a=n(0),u=n(77),c=n(8),l=n(17),f=n(1),p=n(4),h=new l,d={active:"appActive",terminate:"appTerminate",config:"tlClientConfig",fastConfig:"tlFastModeConfig",goal:"goalAchieved",pageView:"viewAppeared",pageClose:"viewDisappeared",timeOnPage:"viewTimeOnPage",adobeAnalytics:"Adobe"};function m(t,e){var n=new Date;return t.val=(n.getTime()-e.getTime())/1e3,h.enqueue(t)}function v(t){return{type:t,date:(new Date).toISOString(),tvKey:c.attr("title"),tvCl:c.attr("href"),prod:s().production?1:0,data:{_tl_view:c.toObject()}}}function y(){if(a.log("events.flushQueue: tick.",h,a.LOUD),h.isEmpty()||!f.hasLoadedData)return e.scheduleTick();var t=h.flush(),n=f.getSessionID(),r=p.getLS(g);r&&r.length&&(a.log("Add ".concat(r.length," events from local storage cache"),null,a.DEBUG),t=t.concat(r),p.expire(g,!0)),n||o.post({},"Taplytics::events.flushQueue: failed to create sessions. Events will fail to process."),e.post(t,(function(n,r){n&&h.enqueueAll(t),e.scheduleTick()}))}e.types=d,e.watchLifecycleEvents=function(){e.appActive();y.bind(r);window.addEventListener("unload",(function(){a.log("Window on unload",null,a.DEBUG),e.appTerminate(),function(){if(h.isEmpty()||!f.hasLoadedData)return;var t=h.flush();a.log("save ".concat(t.length," events to local storage"),h,a.DEBUG),p.setLS(g,t)}()}))},e.timeOnPage=function(t,e,n,r,i,o){var s=v(d.timeOnPage);if(o&&o.getTime){var a=(new Date).getTime(),c=o.getTime();s.val=(a-c)/1e3}return s.vKey=e,s.tKey=t,s.tvKey=r,s.tvCl=n,i&&(s.data=u(s.data||{},{_tl_view:i})),h.enqueue(s)},e.scheduleTick=function(){var t=y.bind(r);setTimeout(t,s().eventsFlushQueueTimeout)},e.pageClose=function(t,e,n,r,i){var o=v(d.pageClose);return o.val=(new Date).toISOString(),o.vKey=e,o.tKey=t,o.tvKey=r,o.tvCl=n,i&&(o.data=u(o.data||{},{_tl_view:i})),h.enqueue(o)},e.pageView=function(t,e,n){var r=v(d.pageView);return n&&(r.data=u(r.data,n)),r.val=(new Date).toISOString(),r.vKey=e,r.tKey=t,h.enqueue(r)},e.goalAchieved=function(t,e,n){var r=v(d.goal);return n&&(r.data=u(r.data,n)),e&&(r.val=e),r.gn=t,h.enqueue(r)},e.trackAdobeAnalyticsEvents=function(t,e,n){var r=v(d.adobeAnalytics);return n&&(r.data=u(r.data,n)),e&&(r.val=e),r.gn=t,h.enqueue(r)},e.appActive=function(){return h.enqueue(v(d.active))},e.appTerminate=function(){return h.enqueue(v(d.terminate))},e.clientConfig=function(t){if(t)return m(v(d.config),t)},e.fastModeConfig=function(t){if(t)return m(v(d.fastConfig),t)},e.post=function(t,e){var n=new Date;i.post("events",{},(function(e){var n={};return n.sid=f.getSessionID(),{session:n,events:t}}),(function(t,r){return t?a.error("Taplytics::events.post: failed to log events",t,a.LOG):a.time("Taplytics::events.post: succesfully logged events.",r,n,a.DEBUG),e&&e(t,r)}))};var g="_tl_eventsQueue"},function(t,e,n){var r=n(3),i=n(0);n(1);e.post=function(t,e){if(!t)return i.error("No new variable to post to server",null,i.DEBUG);var n=new Date,o={name:t.name,createdAt:new Date,variableType:t.defaultType,defaultVal:t.stringifyValue?t.stringifyValue(t.defaultValue):t.defaultValue};i.log("variable_post",o,i.DEBUG),r.post("variable",{},o,(function(t,r){if(t)i.error("Failed to post variable",t,i.DEBUG);else{var o=r.body;o&&o.name&&i.time("Users.post: successfully created new variable.",o,n,i.DEBUG)}return e&&e(t)}))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(46);t.exports=function(t,e){return r(t,e)}},function(t,e,n){var r=n(20);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},function(t,e,n){var r=n(65),i=n(67);t.exports=function(t){return null==t?[]:r(t,i(t))}},function(t,e,n){var r=n(22),i=n(11),o=n(6),s="[object String]";t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&r(t)==s}},function(t,e,n){var r=n(22),i=n(6),o="[object Number]";t.exports=function(t){return"number"==typeof t||i(t)&&r(t)==o}},function(t,e,n){var r=n(68),i=n(69),o=n(73),s="Expected a function",a=Math.max,u=Math.min;t.exports=function(t,e,n){var c,l,f,p,h,d,m=0,v=!1,y=!1,g=!0;if("function"!=typeof t)throw new TypeError(s);function _(e){var n=c,r=l;return c=l=void 0,m=e,p=t.apply(r,n)}function b(t){var n=t-d;return void 0===d||n>=e||n<0||y&&t-m>=f}function w(){var t=i();if(b(t))return x(t);h=setTimeout(w,function(t){var n=e-(t-d);return y?u(n,f-(t-m)):n}(t))}function x(t){return h=void 0,g&&c?_(t):(c=l=void 0,p)}function k(){var t=i(),n=b(t);if(c=arguments,l=this,d=t,n){if(void 0===h)return function(t){return m=t,h=setTimeout(w,e),v?_(t):p}(d);if(y)return clearTimeout(h),h=setTimeout(w,e),_(d)}return void 0===h&&(h=setTimeout(w,e)),p}return e=o(e)||0,r(n)&&(v=!!n.leading,f=(y="maxWait"in n)?a(o(n.maxWait)||0,e):f,g="trailing"in n?!!n.trailing:g),k.cancel=function(){void 0!==h&&clearTimeout(h),m=0,c=d=l=h=void 0},k.flush=function(){return void 0===h?p:x(i())},k}},function(t,e,n){var r=n(14),i=n(0),o=n(5);e.Taplytics=window.Taplytics=t.exports=r,e.flushAppQueue=function(){if(i.log("flushAppQueue tick",window._tlq,i.LOUD),window._tlq&&window._tlq instanceof Array){var t=window._tlq.slice();if(window._tlq=[],Array.prototype.sort&&t.sort((function(t,e){if(t instanceof Array&&e instanceof Array){if("init"===t[0]&&"identify"===e[0])return-1;if("identify"===t[0]&&"init"===e[0])return 1;if("init"===t[0]||"identify"===t[0])return-1}return 2})),t.length>0){i.log("flushAppQueue: "+t.length,t,i.LOUD);for(var n=0;n<t.length;n++){var s=t[n],a=s.shift(),u=s;if(r[a]&&r[a]instanceof Function)try{r[a].apply(r,u)}catch(t){i.error("Attempted to call ".concat(a,"(").concat((u||[]).join(","),"); from the queue but failed!"),t,i.USER),t&&t.stack&&i.error(t.stack,null,i.DEBUG)}}}}setTimeout(e.flushAppQueue,o().functionFlushQueueTimeout)},e.flushAppQueue()},function(t,e,n){var r;"undefined"!=typeof window?r=window:"undefined"!=typeof self?r=self:(console.warn("Using browser-only version of superagent in non-browser environment"),r=this);var i=n(39),o=n(40),s=n(16),a=n(41),u=n(43);function c(){}var l=e=t.exports=function(t,n){return"function"==typeof n?new e.Request("GET",t).end(n):1==arguments.length?new e.Request("GET",t):new e.Request(t,n)};e.Request=y,l.getXHR=function(){if(!(!r.XMLHttpRequest||r.location&&"file:"==r.location.protocol&&r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only version of superagent could not find XHR")};var f="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function p(t){if(!s(t))return t;var e=[];for(var n in t)h(e,n,t[n]);return e.join("&")}function h(t,e,n){if(null!=n)if(Array.isArray(n))n.forEach((function(n){h(t,e,n)}));else if(s(n))for(var r in n)h(t,e+"["+r+"]",n[r]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));else null===n&&t.push(encodeURIComponent(e))}function d(t){for(var e,n,r={},i=t.split("&"),o=0,s=i.length;o<s;++o)-1==(n=(e=i[o]).indexOf("="))?r[decodeURIComponent(e)]="":r[decodeURIComponent(e.slice(0,n))]=decodeURIComponent(e.slice(n+1));return r}function m(t){return/[\/+]json($|[^-\w])/.test(t)}function v(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.header=this.headers=function(t){for(var e,n,r,i,o=t.split(/\r?\n/),s={},a=0,u=o.length;a<u;++a)-1!==(e=(n=o[a]).indexOf(":"))&&(r=n.slice(0,e).toLowerCase(),i=f(n.slice(e+1)),s[r]=i);return s}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function y(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",(function(){var t,e=null,r=null;try{r=new v(n)}catch(t){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=t,n.xhr?(e.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,e.status=n.xhr.status?n.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),n.callback(e)}n.emit("response",r);try{n._isResponseOK(r)||(t=new Error(r.statusText||"Unsuccessful HTTP response"))}catch(e){t=e}t?(t.original=e,t.response=r,t.status=r.status,n.callback(t,r)):n.callback(null,r)}))}function g(t,e,n){var r=l("DELETE",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}l.serializeObject=p,l.parseString=d,l.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},l.serialize={"application/x-www-form-urlencoded":p,"application/json":JSON.stringify},l.parse={"application/x-www-form-urlencoded":d,"application/json":JSON.parse},a(v.prototype),v.prototype._parseBody=function(t){var e=l.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&m(this.type)&&(e=l.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null)},v.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=e,i.url=n,i},l.Response=v,i(y.prototype),o(y.prototype),y.prototype.type=function(t){return this.set("Content-Type",l.types[t]||t),this},y.prototype.accept=function(t){return this.set("Accept",l.types[t]||t),this},y.prototype.auth=function(t,e,n){1===arguments.length&&(e=""),"object"==typeof e&&null!==e&&(n=e,e=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});var r=function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(t,e,n,r)},y.prototype.query=function(t){return"string"!=typeof t&&(t=p(t)),t&&this._query.push(t),this},y.prototype.attach=function(t,e,n){if(e){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,n||e.name)}return this},y.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},y.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var n=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),n(t,e)},y.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},y.prototype.buffer=y.prototype.ca=y.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},y.prototype.pipe=y.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},y.prototype._isHost=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},y.prototype.end=function(t){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||c,this._finalizeQueryString(),this._end()},y.prototype._end=function(){var t=this,e=this.xhr=l.getXHR(),n=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var n=e.readyState;if(n>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4==n){var r;try{r=e.status}catch(t){r=0}if(!r){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var r=function(e,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=e,t.emit("progress",n)};if(this.hasListeners("progress"))try{e.onprogress=r.bind(null,"download"),e.upload&&(e.upload.onprogress=r.bind(null,"upload"))}catch(t){}try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var i=this._header["content-type"],o=this._serializer||l.serialize[i?i.split(";")[0]:""];!o&&m(i)&&(o=l.serialize["application/json"]),o&&(n=o(n))}for(var s in this.header)null!=this.header[s]&&this.header.hasOwnProperty(s)&&e.setRequestHeader(s,this.header[s]);return this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0!==n?n:null),this},l.agent=function(){return new u},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(t){u.prototype[t.toLowerCase()]=function(e,n){var r=new l.Request(t,e);return this._setDefaults(r),n&&r.end(n),r}})),u.prototype.del=u.prototype.delete,l.get=function(t,e,n){var r=l("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},l.head=function(t,e,n){var r=l("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},l.options=function(t,e,n){var r=l("OPTIONS",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},l.del=g,l.delete=g,l.patch=function(t,e,n){var r=l("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},l.post=function(t,e,n){var r=l("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},l.put=function(t,e,n){var r=l("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){"use strict";var r=n(16);function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},i.prototype.parse=function(t){return this._parser=t,this},i.prototype.responseType=function(t){return this._responseType=t,this},i.prototype.serialize=function(t){return this._serializer=t,this},i.prototype.timeout=function(t){if(!t||"object"!=typeof t)return this._timeout=t,this._responseTimeout=0,this;for(var e in t)switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",e)}return this},i.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var o=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];i.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(t,e);if(!0===n)return!0;if(!1===n)return!1}catch(t){console.error(t)}if(e&&e.status&&e.status>=500&&501!=e.status)return!0;if(t){if(t.code&&~o.indexOf(t.code))return!0;if(t.timeout&&"ECONNABORTED"==t.code)return!0;if(t.crossDomain)return!0}return!1},i.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},i.prototype.then=function(t,e){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(t,e){n.end((function(n,r){n?e(n):t(r)}))}))}return this._fullfilledPromise.then(t,e)},i.prototype.catch=function(t){return this.then(void 0,t)},i.prototype.use=function(t){return t(this),this},i.prototype.ok=function(t){if("function"!=typeof t)throw Error("Callback required");return this._okCallback=t,this},i.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},i.prototype.get=function(t){return this._header[t.toLowerCase()]},i.prototype.getHeader=i.prototype.get,i.prototype.set=function(t,e){if(r(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},i.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},i.prototype.field=function(t,e){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),r(t)){for(var n in t)this.field(n,t[n]);return this}if(Array.isArray(e)){for(var i in e)this.field(t,e[i]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=""+e),this._getFormData().append(t,e),this},i.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},i.prototype._auth=function(t,e,n,r){switch(n.type){case"basic":this.set("Authorization","Basic "+r(t+":"+e));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer "+t)}return this},i.prototype.withCredentials=function(t){return null==t&&(t=!0),this._withCredentials=t,this},i.prototype.redirects=function(t){return this._maxRedirects=t,this},i.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw TypeError("Invalid argument");return this._maxResponseSize=t,this},i.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},i.prototype.send=function(t){var e=r(t),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(e&&r(this._data))for(var i in t)this._data[i]=t[i];else"string"==typeof t?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(n||this.type("json"),this)},i.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},i.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var n=this.url.substring(e+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,e)+"?"+n.join("&")}}},i.prototype._appendQueryString=function(){console.trace("Unsupported")},i.prototype._timeoutError=function(t,e,n){if(!this._aborted){var r=new Error(t+e+"ms exceeded");r.timeout=e,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)}},i.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))}},function(t,e,n){"use strict";var r=n(42);function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.get=function(t){return this.header[t.toLowerCase()]},i.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=r.type(e);var n=r.params(e);for(var i in n)this[i]=n[i];this.links={};try{t.link&&(this.links=r.parseLinks(t.link))}catch(t){}},i.prototype._setStatusProperties=function(t){var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.redirect=3==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.created=201==t,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.forbidden=403==t,this.notFound=404==t,this.unprocessableEntity=422==t}},function(t,e,n){"use strict";e.type=function(t){return t.split(/ *; */).shift()},e.params=function(t){return t.split(/ *; */).reduce((function(t,e){var n=e.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(t[r]=i),t}),{})},e.parseLinks=function(t){return t.split(/ *, */).reduce((function(t,e){var n=e.split(/ *; */),r=n[0].slice(1,-1);return t[n[1].split(/ *= */)[1].slice(1,-1)]=r,t}),{})},e.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t}},function(t,e){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach((function(t){n.prototype[t]=function(){return this._defaults.push({fn:t,arguments:arguments}),this}})),n.prototype._setDefaults=function(t){this._defaults.forEach((function(e){t[e.fn].apply(t,e.arguments)}))},t.exports=n},function(t,e,n){"use strict";var r=n(9),i=n(19),o=Object.prototype.hasOwnProperty,s={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},a=Array.isArray,u=Array.prototype.push,c=function(t,e){u.apply(t,a(e)?e:[e])},l=Date.prototype.toISOString,f=i.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:f,formatter:i.formatters[f],indices:!1,serializeDate:function(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},h=function t(e,n,i,o,s,u,l,f,h,d,m,v,y){var g,_=e;if("function"==typeof l?_=l(n,_):_ instanceof Date?_=d(_):"comma"===i&&a(_)&&(_=_.join(",")),null===_){if(o)return u&&!v?u(n,p.encoder,y,"key"):n;_=""}if("string"==typeof(g=_)||"number"==typeof g||"boolean"==typeof g||"symbol"==typeof g||"bigint"==typeof g||r.isBuffer(_))return u?[m(v?n:u(n,p.encoder,y,"key"))+"="+m(u(_,p.encoder,y,"value"))]:[m(n)+"="+m(String(_))];var b,w=[];if(void 0===_)return w;if(a(l))b=l;else{var x=Object.keys(_);b=f?x.sort(f):x}for(var k=0;k<b.length;++k){var S=b[k];s&&null===_[S]||(a(_)?c(w,t(_[S],"function"==typeof i?i(n,S):n,i,o,s,u,l,f,h,d,m,v,y)):c(w,t(_[S],n+(h?"."+S:"["+S+"]"),i,o,s,u,l,f,h,d,m,v,y)))}return w};t.exports=function(t,e){var n,r=t,u=function(t){if(!t)return p;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||p.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==t.format){if(!o.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=i.formatters[n],s=p.filter;return("function"==typeof t.filter||a(t.filter))&&(s=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===t.allowDots?p.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:p.charsetSentinel,delimiter:void 0===t.delimiter?p.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:p.encode,encoder:"function"==typeof t.encoder?t.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:p.encodeValuesOnly,filter:s,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:p.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:p.strictNullHandling}}(e);"function"==typeof u.filter?r=(0,u.filter)("",r):a(u.filter)&&(n=u.filter);var l,f=[];if("object"!=typeof r||null===r)return"";l=e&&e.arrayFormat in s?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var d=s[l];n||(n=Object.keys(r)),u.sort&&n.sort(u.sort);for(var m=0;m<n.length;++m){var v=n[m];u.skipNulls&&null===r[v]||c(f,h(r[v],v,d,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.formatter,u.encodeValuesOnly,u.charset))}var y=f.join(u.delimiter),g=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),y.length>0?g+y:""}},function(t,e,n){"use strict";var r=n(9),i=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},a=function(t,e,n){if(t){var r=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(r),a=s?r.slice(0,s.index):r,u=[];if(a){if(!n.plainObjects&&i.call(Object.prototype,a)&&!n.allowPrototypes)return;u.push(a)}for(var c=0;n.depth>0&&null!==(s=o.exec(r))&&c<n.depth;){if(c+=1,!n.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(s[1])}return s&&u.push("["+r.slice(s.index)+"]"),function(t,e,n){for(var r=e,i=t.length-1;i>=0;--i){var o,s=t[i];if("[]"===s&&n.parseArrays)o=[].concat(r);else{o=n.plainObjects?Object.create(null):{};var a="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=parseInt(a,10);n.parseArrays||""!==a?!isNaN(u)&&s!==a&&String(u)===a&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(o=[])[u]=r:o[a]=r:o={0:r}}r=o}return r}(u,e,n)}};t.exports=function(t,e){var n=function(t){if(!t)return o;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?o.charset:t.charset;return{allowDots:void 0===t.allowDots?o.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:o.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:o.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:o.comma,decoder:"function"==typeof t.decoder?t.decoder:o.decoder,delimiter:"string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:o.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:o.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:o.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:o.strictNullHandling}}(e);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var u="string"==typeof t?function(t,e){var n,a={},u=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,c=e.parameterLimit===1/0?void 0:e.parameterLimit,l=u.split(e.delimiter,c),f=-1,p=e.charset;if(e.charsetSentinel)for(n=0;n<l.length;++n)0===l[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===l[n]?p="utf-8":"utf8=%26%2310003%3B"===l[n]&&(p="iso-8859-1"),f=n,n=l.length);for(n=0;n<l.length;++n)if(n!==f){var h,d,m=l[n],v=m.indexOf("]="),y=-1===v?m.indexOf("="):v+1;-1===y?(h=e.decoder(m,o.decoder,p,"key"),d=e.strictNullHandling?null:""):(h=e.decoder(m.slice(0,y),o.decoder,p,"key"),d=e.decoder(m.slice(y+1),o.decoder,p,"value")),d&&e.interpretNumericEntities&&"iso-8859-1"===p&&(d=s(d)),d&&e.comma&&d.indexOf(",")>-1&&(d=d.split(",")),i.call(a,h)?a[h]=r.combine(a[h],d):a[h]=d}return a}(t,n):t,c=n.plainObjects?Object.create(null):{},l=Object.keys(u),f=0;f<l.length;++f){var p=l[f],h=a(p,u[p],n);c=r.merge(c,h,n)}return r.compact(c)}},function(t,e,n){var r=n(47),i=n(6);t.exports=function t(e,n,o,s,a){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,s,t,a))}},function(t,e,n){var r=n(48),i=n(55),o=n(59),s=n(60),a=n(62),u=n(11),c=n(63),l=n(64),f=1,p="[object Arguments]",h="[object Array]",d="[object Object]",m=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,v,y,g){var _=u(t),b=u(e),w=_?h:a(t),x=b?h:a(e),k=(w=w==p?d:w)==d,S=(x=x==p?d:x)==d,D=w==x;if(D&&c(t)){if(!c(e))return!1;_=!0,k=!1}if(D&&!k)return g||(g=new r),_||l(t)?i(t,e,n,v,y,g):o(t,e,w,n,v,y,g);if(!(n&f)){var O=k&&m.call(t,"__wrapped__"),E=S&&m.call(e,"__wrapped__");if(O||E){var T=O?t.value():t,U=E?e.value():e;return g||(g=new r),y(T,U,n,v,g)}}return!!D&&(g||(g=new r),s(t,e,n,v,y,g))}},function(t,e,n){var r=n(49),i=n(50),o=n(52),s=n(53),a=n(54);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(7),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(7);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(7);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(7);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(56),i=n(57),o=n(58),s=1,a=2;t.exports=function(t,e,n,u,c,l){var f=n&s,p=t.length,h=e.length;if(p!=h&&!(f&&h>p))return!1;var d=l.get(t);if(d&&l.get(e))return d==e;var m=-1,v=!0,y=n&a?new r:void 0;for(l.set(t,e),l.set(e,t);++m<p;){var g=t[m],_=e[m];if(u)var b=f?u(_,g,m,e,t,l):u(g,_,m,t,e,l);if(void 0!==b){if(b)continue;v=!1;break}if(y){if(!i(e,(function(t,e){if(!o(y,e)&&(g===t||c(g,t,n,u,l)))return y.push(e)}))){v=!1;break}}else if(g!==_&&!c(g,_,n,u,l)){v=!1;break}}return l.delete(t),l.delete(e),v}},function(t,e,n){var r=n(11);t.exports=function(){if(!arguments.length)return[];var t=arguments[0];return r(t)?t:[t]}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(20);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(61),i=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,s,a,u){var c=n&i,l=r(t),f=l.length;if(f!=r(e).length&&!c)return!1;for(var p=f;p--;){var h=l[p];if(!(c?h in e:o.call(e,h)))return!1}var d=u.get(t);if(d&&u.get(e))return d==e;var m=!0;u.set(t,e),u.set(e,t);for(var v=c;++p<f;){var y=t[h=l[p]],g=e[h];if(s)var _=c?s(g,y,h,e,t,u):s(y,g,h,t,e,u);if(!(void 0===_?y===g||a(y,g,n,s,u):_)){m=!1;break}v||(v="constructor"==h)}if(m&&!v){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(m=!1)}return u.delete(t),u.delete(e),m}},function(t,e,n){var r=n(21)(Object.keys,Object);t.exports=r},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){t.exports=function(){return!1}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(66);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(21)(Object.keys,Object);t.exports=r},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(70);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(71),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(72))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r,i;r=this,i=function(){var t,e,n="lscache-",r="-cacheexpiration",i=10,o=6e4,s=Math.floor(864e13/o),a="",u=!1;function c(){var e="__lscachetest__";if(void 0!==t)return t;try{if(!localStorage)return!1}catch(t){return!1}try{m(e,"__lscachetest__"),v(e),t=!0}catch(e){t=!(!l(e)||!localStorage.length)}return t}function l(t){return!!(t&&"QUOTA_EXCEEDED_ERR"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name||"QuotaExceededError"===t.name)}function f(){return void 0===e&&(e=null!=window.JSON),e}function p(t){return t+r}function h(){return Math.floor((new Date).getTime()/o)}function d(t){return localStorage.getItem(n+a+t)}function m(t,e){localStorage.removeItem(n+a+t),localStorage.setItem(n+a+t,e)}function v(t){localStorage.removeItem(n+a+t)}function y(t){for(var e=new RegExp("^"+n+a.replace(/[[\]{}()*+?.\\^$|]/g,"\\$&")+"(.*)"),i=localStorage.length-1;i>=0;--i){var o=localStorage.key(i);(o=(o=o&&o.match(e))&&o[1])&&o.indexOf(r)<0&&t(o,p(o))}}function g(t){var e=p(t);v(t),v(e)}function _(t){var e=p(t),n=d(e);if(n){var r=parseInt(n,i);if(h()>=r)return v(t),v(e),!0}}function b(t,e){u&&"console"in window&&"function"==typeof window.console.warn&&(window.console.warn("lscache - "+t),e&&window.console.warn("lscache - The error was: "+e.message))}return{set:function(t,e,n){if(c()){if("string"!=typeof e){if(!f())return;try{e=JSON.stringify(e)}catch(t){return}}try{m(t,e)}catch(n){if(!l(n))return void b("Could not add item with key '"+t+"'",n);var r,o=[];y((function(t,e){var n=d(e);n=n?parseInt(n,i):s,o.push({key:t,size:(d(t)||"").length,expiration:n})})),o.sort((function(t,e){return e.expiration-t.expiration}));for(var a=(e||"").length;o.length&&a>0;)r=o.pop(),b("Cache is full, removing item with key '"+t+"'"),g(r.key),a-=r.size;try{m(t,e)}catch(e){return void b("Could not add item with key '"+t+"', perhaps it's too big?",e)}}n?m(p(t),(h()+n).toString(i)):v(p(t))}},get:function(t){if(!c())return null;if(_(t))return null;var e=d(t);if(!e||!f())return e;try{return JSON.parse(e)}catch(t){return e}},remove:function(t){c()&&g(t)},supported:function(){return c()},flush:function(){c()&&y((function(t){g(t)}))},flushExpired:function(){c()&&y((function(t){_(t)}))},setBucket:function(t){a=t},resetBucket:function(){a=""},enableWarnings:function(t){u=t}}},t.exports?t.exports=i():r.lscache=i()},function(t,e,n){var r=n(76),i=n(26),o=i;o.v1=r,o.v4=i,t.exports=o},function(t,e,n){var r,i,o=n(24),s=n(25),a=0,u=0;t.exports=function(t,e,n){var c=e&&n||0,l=e||[],f=(t=t||{}).node||r,p=void 0!==t.clockseq?t.clockseq:i;if(null==f||null==p){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=i=16383&(h[6]<<8|h[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),m=void 0!==t.nsecs?t.nsecs:u+1,v=d-a+(m-u)/1e4;if(v<0&&void 0===t.clockseq&&(p=p+1&16383),(v<0||d>a)&&void 0===t.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=d,u=m,i=p;var y=(1e4*(268435455&(d+=122192928e5))+m)%4294967296;l[c++]=y>>>24&255,l[c++]=y>>>16&255,l[c++]=y>>>8&255,l[c++]=255&y;var g=d/4294967296*1e4&268435455;l[c++]=g>>>8&255,l[c++]=255&g,l[c++]=g>>>24&15|16,l[c++]=g>>>16&255,l[c++]=p>>>8|128,l[c++]=255&p;for(var _=0;_<6;++_)l[c+_]=f[_];return e||s(l)}},function(t,e){t.exports=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}},function(t,e,n){var r=n(18);t.exports=function(){var t={},e=null;return location&&location.search&&location.search.length&&(t=r.parse(location.search.substr(1))),document&&document.referrer&&(e=document.referrer),{referrer:e,search:t}}},function(t,e,n){var r=n(0),i=n(3);function o(t){this.promises=[],this.name=t?t.name:null}o.prototype.push=function(t){var e=!1,n=this;function o(n){e||t&&(e=!0,t(n))}this.promises.push(o),setTimeout((function(){e||(r.log(n.name+" promise timed out",null,r.LOG),o())}),i.timeout)},o.prototype.completePromises=function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=this.promises[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var s=i.value;s&&s(t)}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}this.promises=[]},t.exports=o},function(t,e,n){var r,i=n(2),o=n(0),s=n(1),a=n(81),u=n(82),c=setInterval((function(){document.body&&(l(),clearInterval(c),c=null)}),1);function l(){if("undefined"!=typeof MutationObserver&&!r&&document.body){o.log("start DOM Observer",null,o.DEBUG);var t=function(){o.log("DOM mutation observed",null,o.DEBUG),e.applyVisualEditsFromConfig(s.config)};(r=new MutationObserver(i.debounce(t,50,{leading:!0}))).observe(document.body,{attributes:!0,childList:!0,characterData:!0,subtree:!0,attributeFilter:[],characterDataOldValue:!1,attributeOldValue:!1}),t()}}e.applyVisualEditsFromConfig=function(t){if(t&&t.webModifications&&t.webElements){l(),o.log("Apply visual edits from config",null,o.DEBUG);var e=a.buildUrlFromLocation(window.location);t.webModifications.forEach((function(n){if(n){var r=t.webElements.find((function(t){return t._id===n._element}));if(!r)return o.error("No web element found for _id: ".concat(n._element,", modification: ").concat(n._id),null,o.DEBUG);t.urlRules&&a.matchUrlRules(t.urlRules,e)?u.applyModificationsToDOM({element:r,modification:n}):(r.hostnameMatch||a.matchUrlsByPath(r.url,e))&&u.applyModificationsToDOM({element:r,modification:n})}}))}}},function(t,e,n){var r=n(2);e.buildUrlFromLocation=function(t){return t&&t.origin?t.origin+(t.pathname?t.pathname:""):null},e.matchUrlsByPath=function(t,n){var r=e.getLocationFromUrl(t),i=e.getLocationFromUrl(n);return r&&i&&r.origin.length&&i.origin.length?r.pathname===i.pathname:(t=t.replace(/^(http(s?):\/\/)?((www\.)?)((.*\/)?)/,""))===(n=n.replace(/^(http(s?):\/\/)?((www\.)?)((.*\/)?)/,""))},e.matchUrlsByDomain=function(t,e){return t=t.replace(/^(http(s?):\/\/)?((www\.)?)/,"").split("/")[0],e=e.replace(/^(http(s?):\/\/)?((www\.)?)/,"").split("/")[0],t=t.split(".").slice(-2),e=e.split(".").slice(-2),r.isEqual(t,e)},e.getLocationFromUrl=function(t){var e=document.createElement("a");return e.href=t,e.origin.length?{origin:e.origin,hostname:e.hostname,pathname:e.pathname,href:e.href}:null},e.matchUrlRules=function(t,e){if(!t||!t.length||!e)return!1;var n=!1;return r.forEach(t,(function(t){var r=t.comparator,i=t.value;if("is"===r)n=e===i;else if("is not"===r)n=e!==i;else if("contains"===r)n=e.includes(i);else if("does not contain"===r)n=!e.includes(i);else if("Matches Regex"===r){var o=new RegExp(i);n=o.test(e)}if(n)return!1})),n}},function(module,exports,__webpack_require__){var log=__webpack_require__(0);exports.applyModificationsToDOM=function(_ref){var element=_ref.element,modification=_ref.modification;if(element&&modification){var htmlElements=exports.findElementsBySelector(element.selector),htmlElement=htmlElements&&htmlElements.length?htmlElements[0]:null;if(htmlElement){log.log("Apply modification for web element: ".concat(htmlElement._id,", modification: ").concat(modification._id),null,log.LOUD);var _modification$attribu=modification.attributes,outerHTML=_modification$attribu.outerHTML,script=_modification$attribu.script;if(outerHTML&&htmlElement.outerHTML!==outerHTML&&(htmlElement.outerHTML=outerHTML),script)try{eval(script)}catch(t){log.error("Error on modification script for web element: ".concat(htmlElement._id,", modification: ").concat(modification._id),t,log.DEBUG)}}}},exports.findElementsBySelector=function(t){return document.querySelectorAll(t)}},function(t,e,n){var r=n(0),i=(n(8),n(1)),o=n(4),s=n(84),a=n(2),u=!0;t.exports=function(t,e){if(function(t){if(!t||"string"!=typeof t)return!1;return!!t.length}(t)){if(this.env="production",e){this.api.config.startOptions=e,a.isNumber(e.log_level)&&r.setPriorityLevel(e.log_level);try{if(e.alias_host){var n=a.isString(e.alias_host)?JSON.parse(e.alias_host):e.alias_host,c=n.api_host,l=n.ping_host;c&&(this.api.config.apiAlias=c),l&&(this.api.config.pingAlias=l)}}catch(t){r.error("Error trying to convert alias host to JSON",t)}!1===e.auto_page_view&&(u=!1),e.env&&(this.env=e.env),e.test_experiments&&(i.test_experiments=e.test_experiments),e.fast_mode&&(this.api.config.fastMode=e.fast_mode),e.cookie_domain&&(this.api.config.cookieDomain=e.cookie_domain),e.user_bucketing&&(this.api.config.userBucketing=e.user_bucketing),a.isNumber(e.timeout)&&this.api.request.setTimeout(e.timeout),e.anon_user&&!i.getUserID()&&i.setUserID(e.anon_user),e.track_adobe_analytics&&s(e.adobe_obj_name,this.api.events.trackAdobeAnalyticsEvents)}this._in={},this._in.token=t,this._in.logger=r,this._in.cookies=o,this.api.init(this);var f=e&&e.config?e.config:void 0,p=f?f.ad:void 0;i.start(p);var h=null;try{a.isString(e.user_attributes)?h=e&&e.user_attributes&&JSON.parse(e.user_attributes):a.isObjectLike(e.user_attributes)&&(h=e.user_attributes)}catch(t){r.error("Error trying to convert user attributes to JSON",t)}return this.api.config.get({dynamicConfig:f,user_attributes:h}),u&&this.page&&this.page(),this.api.events.scheduleTick(),this.api.events.watchLifecycleEvents(),this}r.error("An SDK token is required.",null,r.USER)}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(t){return{name:t.split("=")[0],value:t.split("=")[1]||null}},i=function(t){return t.events&&"None"!==t.events?t.events.split(",").map(r):[]},o=function(t){var e={};return function(t){return Object.keys(t).filter((function(e){return"function"!=typeof t[e]&&"object"!==n(t[e])&&"events"!==e&&"linkTrackEvents"!==e}))}(t).forEach((function(n){e[n]=t[n]})),e},s=0,a=function t(e,n){var r=e?window[e]:window.s;s<50&&void 0!==r?(function(t,e){var n=t.t,r=t.tl;t.t=function(){return i(t).forEach((function(n){e(n.name,n.value,o(t))})),n.bind(t)()},t.tl=function(n,s,a,u,c){return i(t).forEach((function(n){var r=Object.assign({},o(t),{linkType:s,linkName:a});t.linkTrackEvents&&t.linkTrackEvents.includes(n.name)&&e(n.name,n.value,r)})),r.bind(t)(n,s,a,u,c)}}(r,n),function(t,e){i(t).forEach((function(n){e(n.name,n.value,o(t))}))}(r,n)):(s+=1,setTimeout((function(){t(e,n)}),200))};t.exports=function(t,e){a(t,e)}},function(t,e,n){n(15);t.exports=function(){return!(!this._in||!this._in.token)}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(0),o=n(1);t.exports=function(t){if(!this.isReady())return i.error("Taplytics::identify: you have to call Taplytics.init first.",null,i.USER),this;if(!function(t){return!(!t||t&&"object"!==r(t))}(t))return i.error("Taplytics::identify: you have to pass in an object with user attributes.",null,i.USER),this;var e=function(t){for(var e={customData:{}},n=0,r=Object.keys(t);n<r.length;n++){var i=r[n],u=t[i],c=s[i];c?(a.includes(c)&&o.setUserID(u),e[c]=u):e.customData[i]=u}return e}(t);return this.api.users.post(e,"Taplytics::identify: failed to save the user attributes properly."),this};var s={user_id:"user_id",id:"user_id",userID:"user_id",userId:"user_id",customer_id:"user_id",member_id:"user_id",email:"email",email_address:"email",name:"name",fullName:"name",full_name:"name",firstName:"firstName",first_name:"firstName",lastName:"lastName",last_name:"lastName",avatar:"avatarUrl",avatarUrl:"avatarUrl",avatar_url:"avatarUrl",age:"age",gender:"gender"},a=["user_id","userID","userId"]},function(t,e,n){var r=n(0),i=n(1),o=n(2);t.exports=function(t,e,n){if(!this.isReady())return r.error("track: you have to call Taplytics.init first.",null,r.USER),!1;if(!t)return r.error("track: you have to specify an event name.",null,r.USER),!1;var s=e,a=n;return o.isObjectLike(e)&&!n&&(s=void 0,a=e),s&&!o.isNumber(s)?(r.error("track: if you're passing a value, it has to be a number.",null,r.USER),!1):(i.tick(),this.api.events.goalAchieved(t,s,a),this)}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(0),o=n(8),s=n(1),a={previous_page_href:"p_p_l_h",previous_page_title:"p_p_l_t",previous_page_location:"p_p_l",previous_page_name:"p_p_n",previous_page_category:"p_p_c",previous_page_view_date:"p_p_v_d"};t.exports=function(t,e,n){if(!this.isReady())return i.error("track: you have to call Taplytics.init first.",null,i.USER),this;var u=t,c=e,l=n;if("object"!==r(e)||n?t&&!e&&(u=void 0,c=t):(u=void 0,c=t,l=e),s.tick(),s.get(a.previous_page_href)){var f=function(){var t=s.get(a.previous_page_view_date);t&&(t=new Date(t));return{category:s.get(a.previous_page_category),name:s.get(a.previous_page_name),href:s.get(a.previous_page_href),title:s.get(a.previous_page_title),location:s.get(a.previous_page_location,JSON&&JSON.parse),view_date:t}}();this.api.events.pageClose(f.category,f.name,f.href,f.title,f.location),this.api.events.timeOnPage(f.category,f.name,f.href,f.title,f.location,f.view_date),s.unset(a.previous_page_category),s.unset(a.previous_page_name),s.unset(a.previous_page_href),s.unset(a.previous_page_title),s.unset(a.previous_page_location),s.unset(a.previous_page_view_date)}return this.api.events.pageView(u,c,l),function(t,e){s.set(a.previous_page_category,t),s.set(a.previous_page_name,e),s.set(a.previous_page_href,o.attr("href")),s.set(a.previous_page_title,o.attr("title")),s.set(a.previous_page_location,o.toObject(),JSON&&JSON.stringify),s.set(a.previous_page_view_date,(new Date).toISOString())}(u,c),this}},function(t,e,n){var r=n(0),i=n(1);t.exports=function(){return this.isReady()?(i.tick(),this.api.users.del(),i.resetSession(),this.api.config.get({}),this):(r.error("Taplytics::reset: you have to call Taplytics.init first.",null,r.USER),!1)}},function(t,e,n){var r=n(1);t.exports=function(t){r.configPromise(t)}},function(t,e,n){var r=n(1);t.exports=function(t){r.configPromise((function(){var e=r.config&&r.config.expVarsNames?r.config.expVarsNames:{};return t&&t(e)}))}},function(t,e,n){n(1);var r=n(93);t.exports=function(t,e,n){var i=new r(t,e,n);return i&&i.init?i:null}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(0),o=n(1),s=n(29);function a(t,e,n){return this.init=!1,t?(this.name=t,this.defaultValue=e,this.value=e,this.updatedBlock=n,this.defaultType=this.getValueType(e),this.defaultType?(this.init=!0,void this.getValueFromConfig()):i.log("Error: Taplytics variables only support Strings, Numbers, and Booleans.",null,i.USER)):i.log("Error: Taplytics variable is missing a name",null,i.USER)}a.prototype.getValueType=function(t){return"string"==typeof t?"String":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"object"===r(t)?"JSON":null},a.prototype.stringifyValue=function(t){return"JSON"===this.defaultType?JSON.stringify(t):t},a.prototype.parseValue=function(t){if("JSON"===this.defaultType){if("object"===r(t))return t;try{return JSON.parse(t)}catch(e){i.log("Error parsing JSON variable",t,i.LOG)}return null}return t},a.prototype.getValueFromConfig=function(){var t=this;function e(){t.updatedBlock&&t.updatedBlock(t.value)}o.configPromise((function(){var n=o.config,r=n&&n.dynamicVars?n.dynamicVars[t.name]:null;if(r){if(r.variableType!==t.defaultType)return e(),i.error("Taplytics variable "+t.name+" default type does not match server: "+r.variableType,null,i.LOG);t.value=t.parseValue(r.value)}else n&&(i.log("New Taplytics Variable: "+t.name,null,i.DEBUG),s.post(t));e()}))},t.exports=a},function(t,e,n){var r=n(0),i=n(1),o=n(29);t.exports=function(t,e){if(!t)return r.error("No name to run code block",null,r.USER);i.configPromise((function(){var n=i.config;if(n){var s=n.dynamicVars?n.dynamicVars[t]:null;if(s){if("Code Block"!==s.variableType)return r.error("Taplytics code block "+t+" default type does not match server: "+s.variableType,null,r.LOG);e&&s.value&&e()}else r.log("New Taplytics Code Block: "+t,null,r.DEBUG),o.post({name:t,defaultType:"Code Block",defaultValue:!1})}}))}},function(t,e,n){var r=n(0),i=n(1);t.exports=function(t){if(!t)return r.error("No key to return feature flag enabled",null,r.USER),!1;var e=i.config;if(!e||!e.ff)return!1;var n=e.ff[t];return n&&n.enabled}},function(t,e,n){var r=n(1),i=n(2);t.exports=function(t){r.configPromise((function(){var e=r.config&&r.config.ff?r.config.ff:{},n={};return i.values(e).forEach((function(t){t.enabled&&(n[t.key]=t.name)})),t&&t(n)}))}},function(t,e,n){n(0);var r=n(4),i=n(13).OPT_OUT_KEY;t.exports=function(){return r.setLS(i,!0),r.removeAllCookies(),this}},function(t,e,n){var r=n(4),i=n(13).OPT_OUT_KEY;t.exports=function(){return r.hasUserOptedOutTracking()&&(r.setLS(i,!1),this.init(this._in.token,this.api.config.startOptions)),this}},function(t,e,n){var r=n(0),i=n(1);t.exports=function(){return this.isReady()?(i.tick(),i.resetSession(),this.api.config.get({}),this):(r.error("Taplytics::startNewSession: you have to call Taplytics.init first.",null,r.USER),this)}}]);
//# sourceMappingURL=taplytics.min.js.map
// hey hey hey